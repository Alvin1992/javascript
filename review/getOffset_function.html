<!DOCTYPE html>
<html lang="zh-cn">
	<head>
			<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	        <title></title>
			<style>
				*{
					padding: 0;
					margin: 0;
				}
				div{
					font-size: 30px;
					color: #fff;
				}
				#div1{
					 width: 500px;
					height: 500px; 
					background: red;
					 position: relative; 
				}
				#div2{
					 width: 300px;
					 height: 300px;  
					background: blue;
					   position: relative;   
					  margin:30px;
					   border: 5px solid #000; 
				}
				#div3{
					width: 100px;
					height: 100px;
					background: green;  
					position: absolute;
					left: 20px;
					top:20px;   
					border: 5px solid #000;
					margin: 30px;
				}
			</style>
			<script>
				function getStyle( obj,attr ){
					return obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle(obj)[attr];
				}
				function getOffset(element) {
					var offsetLeft = element.offsetLeft,
						offsetTop = element.offsetTop,
						current = element.offsetParent;
					while (current !== null) {
						offsetLeft += current.offsetLeft + (parseInt(getStyle(current, 'borderLeftWidth')) || 0);
						offsetTop += current.offsetTop + (parseInt(getStyle(current, 'borderLeftHeight')) || 0);
						current = current.offsetParent;
					}

					return {
						offsetL: offsetLeft,
						offsetT: offsetTop
					}
				}
				window.onload = function(){
				    alert( getOffset(div3).offsetL );
				};
			</script>
		</head>

		<body>
			<div id="div1">
				div1
				<div id="div2">
					div2
				<div id="div3">
					div3
				</div>
			</div>
		</div>
	</body>
</html>