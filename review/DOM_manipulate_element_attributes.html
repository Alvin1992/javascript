<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>DOM manipulate element</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
    <a id="link" href="./DOM_get_nodes.html" target="_blank" myattr='myvalue'>foo</a>
    <img id="pic" src="../img/xunlei1.jpg" height="125" width="220" _src="../img/xunlei2.jpg">
    <p id="para" data-my-data="paragraph" data-Test="123">This is a paragraph</p>
    <script type="text/javascript">
    // 获取元素身上的属性
    // 绝对路径
    console.log(link.href);
    //原始值
    console.log(link.getAttribute('href'));
    //兼容IE6、7
    console.log(link.getAttribute('href', 2));//第二个参数可以是2或者3
    console.log(link.getAttribute('href', 3));//第二个参数可以是2或者3

    //自定义属性
    //IE下能获取，标准浏览器不能
    console.log(link.myattr);

    //标准和IE都可以获取
    console.log(link.getAttribute('myattr'));

    //js添加自定义属性不会反映到HTML
    link.index = 0;
    console.log(link.index);

    //setAttribute设置的会反映到HTML
    link.setAttribute('indexSet', 'indexValue');
    //只传递一个参数会报错
    //link.setAttribute('foo');

    //删除属性
    link.removeAttribute('myattr');

    //图片按需加载：先添加一个自定义属性值为真实地址，然后当图片出现在当前视口时，把真实地址给src
    document.onclick = function() {
    	var actualHref = pic.getAttribute("_src");
    	if (actualHref) {
    		pic.src = actualHref;
    		pic.removeAttribute('_src');
    	}
    }

    //dataSet，IE11以下不支持此属性
    var data = para.dataset.myData;
    console.log(data);

    para.dataset.writeMode = 'written';

    //data-后不能出现大写字符
    var result = para.dataset.Test;
    console.log(result);

    </script>
</body>
</html>